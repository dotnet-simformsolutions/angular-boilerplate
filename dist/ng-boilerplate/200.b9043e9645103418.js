"use strict";(self.webpackChunkng_boilerplate=self.webpackChunkng_boilerplate||[]).push([[200],{9200:(y,c,a)=>{a.r(c),a.d(c,{UserListComponent:()=>j});var l=a(177),o=a(4341),e=a(4438),m=a(8010),_=a(2365);function u(i,r){if(1&i){const t=e.RV6();e.j41(0,"div",10)(1,"div",11),e.EFF(2),e.k0s(),e.j41(3,"div",12)(4,"div",13),e.EFF(5),e.k0s(),e.j41(6,"div",14),e.EFF(7),e.k0s(),e.j41(8,"div",15),e.EFF(9),e.k0s(),e.j41(10,"div",16),e.EFF(11),e.nI1(12,"date"),e.k0s()(),e.j41(13,"div",17)(14,"button",18),e.bIt("click",function(){const s=e.eBV(t).$implicit,d=e.XpG();return e.Njj(d.editUser(s))}),e.EFF(15,"\u270f\ufe0f Edit"),e.k0s(),e.j41(16,"button",19),e.bIt("click",function(){const s=e.eBV(t).$implicit,d=e.XpG();return e.Njj(d.deleteUser(s.id))}),e.EFF(17,"\u{1f5d1}\ufe0f Delete"),e.k0s()()()}if(2&i){const t=r.$implicit,n=r.index;e.R7$(2),e.JRh(n+1),e.R7$(3),e.Lme("",t.firstName," ",t.lastName,""),e.R7$(2),e.JRh(t.email),e.R7$(2),e.JRh(t.mobile),e.R7$(2),e.SpI("Registered: ",e.i5U(12,6,t.createdAt,"short"),"")}}function g(i,r){if(1&i){const t=e.RV6();e.j41(0,"div",20)(1,"p"),e.EFF(2,"No users registered yet."),e.k0s(),e.j41(3,"button",21),e.bIt("click",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.goToRegister())}),e.EFF(4,"Register First User"),e.k0s()()}}function p(i,r){1&i&&(e.j41(0,"span"),e.EFF(1,"First name is required"),e.k0s())}function f(i,r){1&i&&(e.j41(0,"span"),e.EFF(1,"First name must be at least 2 characters"),e.k0s())}function b(i,r){if(1&i&&(e.j41(0,"div",41),e.DNE(1,p,2,0,"span",42)(2,f,2,0,"span",42),e.k0s()),2&i){let t,n;const s=e.XpG(2);e.R7$(),e.Y8G("ngIf",null==(t=s.editForm.get("firstName"))||null==t.errors?null:t.errors.required),e.R7$(),e.Y8G("ngIf",null==(n=s.editForm.get("firstName"))||null==n.errors?null:n.errors.minlength)}}function h(i,r){1&i&&(e.j41(0,"span"),e.EFF(1,"Last name is required"),e.k0s())}function v(i,r){1&i&&(e.j41(0,"span"),e.EFF(1,"Last name must be at least 2 characters"),e.k0s())}function F(i,r){if(1&i&&(e.j41(0,"div",41),e.DNE(1,h,2,0,"span",42)(2,v,2,0,"span",42),e.k0s()),2&i){let t,n;const s=e.XpG(2);e.R7$(),e.Y8G("ngIf",null==(t=s.editForm.get("lastName"))||null==t.errors?null:t.errors.required),e.R7$(),e.Y8G("ngIf",null==(n=s.editForm.get("lastName"))||null==n.errors?null:n.errors.minlength)}}function C(i,r){1&i&&(e.j41(0,"span"),e.EFF(1,"Mobile number is required"),e.k0s())}function k(i,r){1&i&&(e.j41(0,"span"),e.EFF(1,"Please enter a valid mobile number"),e.k0s())}function x(i,r){if(1&i&&(e.j41(0,"div",41),e.DNE(1,C,2,0,"span",42)(2,k,2,0,"span",42),e.k0s()),2&i){let t,n;const s=e.XpG(2);e.R7$(),e.Y8G("ngIf",null==(t=s.editForm.get("mobile"))||null==t.errors?null:t.errors.required),e.R7$(),e.Y8G("ngIf",null==(n=s.editForm.get("mobile"))||null==n.errors?null:n.errors.pattern)}}function M(i,r){1&i&&(e.j41(0,"span"),e.EFF(1,"Email is required"),e.k0s())}function E(i,r){1&i&&(e.j41(0,"span"),e.EFF(1,"Please enter a valid email"),e.k0s())}function O(i,r){if(1&i&&(e.j41(0,"div",41),e.DNE(1,M,2,0,"span",42)(2,E,2,0,"span",42),e.k0s()),2&i){let t,n;const s=e.XpG(2);e.R7$(),e.Y8G("ngIf",null==(t=s.editForm.get("email"))||null==t.errors?null:t.errors.required),e.R7$(),e.Y8G("ngIf",null==(n=s.editForm.get("email"))||null==n.errors?null:n.errors.email)}}function P(i,r){if(1&i){const t=e.RV6();e.j41(0,"div",22),e.bIt("click",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.closeEditModal())}),e.j41(1,"div",23),e.bIt("click",function(s){return e.eBV(t),e.Njj(s.stopPropagation())}),e.j41(2,"div",24)(3,"h3"),e.EFF(4,"Edit User"),e.k0s(),e.j41(5,"button",25),e.bIt("click",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.closeEditModal())}),e.EFF(6,"\xd7"),e.k0s()(),e.j41(7,"form",26),e.bIt("ngSubmit",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.updateUser())}),e.j41(8,"div",27)(9,"div",28)(10,"label",29),e.EFF(11,"First Name"),e.k0s(),e.nrm(12,"input",30),e.DNE(13,b,3,2,"div",31),e.k0s(),e.j41(14,"div",28)(15,"label",32),e.EFF(16,"Last Name"),e.k0s(),e.nrm(17,"input",33),e.DNE(18,F,3,2,"div",31),e.k0s()(),e.j41(19,"div",28)(20,"label",34),e.EFF(21,"Mobile Number"),e.k0s(),e.nrm(22,"input",35),e.DNE(23,x,3,2,"div",31),e.k0s(),e.j41(24,"div",28)(25,"label",36),e.EFF(26,"Email"),e.k0s(),e.nrm(27,"input",37),e.DNE(28,O,3,2,"div",31),e.k0s(),e.j41(29,"div",38)(30,"button",39),e.bIt("click",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.closeEditModal())}),e.EFF(31,"Cancel"),e.k0s(),e.j41(32,"button",40),e.EFF(33),e.k0s()()()()()}if(2&i){const t=e.XpG();e.R7$(7),e.Y8G("formGroup",t.editForm),e.R7$(5),e.AVh("error",t.isFieldInvalid("firstName")),e.R7$(),e.Y8G("ngIf",t.isFieldInvalid("firstName")),e.R7$(4),e.AVh("error",t.isFieldInvalid("lastName")),e.R7$(),e.Y8G("ngIf",t.isFieldInvalid("lastName")),e.R7$(4),e.AVh("error",t.isFieldInvalid("mobile")),e.R7$(),e.Y8G("ngIf",t.isFieldInvalid("mobile")),e.R7$(4),e.AVh("error",t.isFieldInvalid("email")),e.R7$(),e.Y8G("ngIf",t.isFieldInvalid("email")),e.R7$(4),e.AVh("loading",t.isUpdating),e.Y8G("disabled",t.editForm.invalid||t.isUpdating),e.R7$(),e.SpI(" ",t.isUpdating?"Updating...":"Update User"," ")}}function U(i,r){if(1&i&&(e.j41(0,"div",43)(1,"div",44),e.EFF(2),e.k0s()()),2&i){const t=e.XpG();e.R7$(),e.AVh("success","success"===t.messageType)("error","error"===t.messageType),e.R7$(),e.SpI(" ",t.messageText," ")}}let j=(()=>{class i{constructor(t,n,s){this.authService=t,this.router=n,this.fb=s,this.users=[],this.showEditModal=!1,this.editingUser=null,this.isUpdating=!1,this.showMessage=!1,this.messageText="",this.messageType="success",this.editForm=this.fb.group({firstName:["",[o.k0.required,o.k0.minLength(2)]],lastName:["",[o.k0.required,o.k0.minLength(2)]],mobile:["",[o.k0.required,o.k0.pattern(/^[\+]?[1-9][\d]{0,15}$/)]],email:["",[o.k0.required,o.k0.email]]})}ngOnInit(){this.loadUsers()}loadUsers(){this.users=this.authService.getAllUsers()}editUser(t){this.editingUser=t,this.editForm.patchValue({firstName:t.firstName,lastName:t.lastName,mobile:t.mobile,email:t.email}),this.showEditModal=!0}closeEditModal(){this.showEditModal=!1,this.editingUser=null,this.editForm.reset()}updateUser(){this.editForm.valid&&this.editingUser?(this.isUpdating=!0,this.authService.updateUser(this.editingUser.id,this.editForm.value).then(n=>{n.success?(this.showMessage=!0,this.messageText=n.message,this.messageType="success",this.loadUsers(),this.closeEditModal()):(this.showMessage=!0,this.messageText=n.message,this.messageType="error"),this.isUpdating=!1,setTimeout(()=>{this.showMessage=!1},3e3)})):Object.keys(this.editForm.controls).forEach(t=>{this.editForm.get(t)?.markAsTouched()})}deleteUser(t){confirm("Are you sure you want to delete this user?")&&this.authService.deleteUser(t).then(n=>{this.showMessage=!0,this.messageText=n.message,this.messageType=n.success?"success":"error",n.success&&this.loadUsers(),setTimeout(()=>{this.showMessage=!1},3e3)})}isFieldInvalid(t){const n=this.editForm.get(t);return!(!n||!n.invalid||!n.dirty&&!n.touched)}goBack(){this.router.navigate(["/auth/login"])}goToRegister(){this.router.navigate(["/auth/register"])}static{this.\u0275fac=function(n){return new(n||i)(e.rXU(m.u),e.rXU(_.Ix),e.rXU(o.ok))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-user-list"]],standalone:!0,features:[e.aNF],decls:15,vars:5,consts:[[1,"user-list-page"],[1,"header"],[1,"btn","btn-secondary",3,"click"],[1,"user-list-container"],[1,"user-count"],[1,"user-list"],["class","user-item",4,"ngFor","ngForOf"],["class","empty-state",4,"ngIf"],["class","modal-overlay",3,"click",4,"ngIf"],["class","message-overlay",4,"ngIf"],[1,"user-item"],[1,"user-number"],[1,"user-info"],[1,"user-name"],[1,"user-email"],[1,"user-mobile"],[1,"user-date"],[1,"user-actions"],[1,"btn","btn-edit",3,"click"],[1,"btn","btn-delete",3,"click"],[1,"empty-state"],[1,"btn","btn-primary",3,"click"],[1,"modal-overlay",3,"click"],[1,"modal-content",3,"click"],[1,"modal-header"],[1,"modal-close",3,"click"],[1,"modal-body",3,"ngSubmit","formGroup"],[1,"form-row"],[1,"form-group"],["for","editFirstName"],["id","editFirstName","type","text","formControlName","firstName",1,"form-control"],["class","error-message",4,"ngIf"],["for","editLastName"],["id","editLastName","type","text","formControlName","lastName",1,"form-control"],["for","editMobile"],["id","editMobile","type","tel","formControlName","mobile",1,"form-control"],["for","editEmail"],["id","editEmail","type","email","formControlName","email",1,"form-control"],[1,"modal-actions"],["type","button",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"error-message"],[4,"ngIf"],[1,"message-overlay"],[1,"message-content"]],template:function(n,s){1&n&&(e.j41(0,"div",0)(1,"div",1)(2,"h2"),e.EFF(3,"Registered Users"),e.k0s(),e.j41(4,"button",2),e.bIt("click",function(){return s.goBack()}),e.EFF(5,"\u2190 Back to Login"),e.k0s()(),e.j41(6,"div",3)(7,"div",4)(8,"p"),e.EFF(9),e.k0s()(),e.j41(10,"div",5),e.DNE(11,u,18,9,"div",6),e.k0s(),e.DNE(12,g,5,0,"div",7),e.k0s()(),e.DNE(13,P,34,17,"div",8)(14,U,3,5,"div",9)),2&n&&(e.R7$(9),e.SpI("Total Users: ",s.users.length,""),e.R7$(2),e.Y8G("ngForOf",s.users),e.R7$(),e.Y8G("ngIf",0===s.users.length),e.R7$(),e.Y8G("ngIf",s.showEditModal),e.R7$(),e.Y8G("ngIf",s.showMessage))},dependencies:[l.MD,l.Sq,l.bT,l.vh,o.X1,o.qT,o.me,o.BC,o.cb,o.j4,o.JD],styles:[".user-list-page[_ngcontent-%COMP%]{min-height:100vh;background:linear-gradient(135deg,#667eea,#764ba2);padding:2rem}.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:2rem;background:#fff;padding:1.5rem;border-radius:12px;box-shadow:0 4px 20px #0000001a}.header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;color:#333;font-size:1.8rem;font-weight:600}.user-list-container[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:2rem;box-shadow:0 4px 20px #0000001a}.user-count[_ngcontent-%COMP%]{margin-bottom:1.5rem;padding-bottom:1rem;border-bottom:2px solid #f0f0f0}.user-count[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:1.1rem;color:#666;font-weight:500}.user-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.user-item[_ngcontent-%COMP%]{display:flex;align-items:center;padding:1.5rem;background:#f8f9fa;border-radius:8px;border-left:4px solid #667eea;transition:all .3s ease}.user-item[_ngcontent-%COMP%]:hover{background:#e9ecef;transform:translate(4px)}.user-number[_ngcontent-%COMP%]{background:#667eea;color:#fff;width:32px;height:32px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-weight:600;margin-right:1rem;flex-shrink:0}.user-info[_ngcontent-%COMP%]{flex:1}.user-name[_ngcontent-%COMP%]{font-weight:600;color:#333;font-size:1.1rem;margin-bottom:.25rem}.user-email[_ngcontent-%COMP%], .user-mobile[_ngcontent-%COMP%]{color:#666;font-size:.9rem;margin-bottom:.25rem}.user-date[_ngcontent-%COMP%]{color:#999;font-size:.8rem}.user-actions[_ngcontent-%COMP%]{display:flex;gap:.5rem}.btn[_ngcontent-%COMP%]{padding:.5rem 1rem;border:none;border-radius:6px;font-size:.9rem;font-weight:500;cursor:pointer;transition:all .3s ease;text-decoration:none;display:inline-block}.btn-primary[_ngcontent-%COMP%]{background:#667eea;color:#fff}.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background:#5a6fd8;transform:translateY(-2px)}.btn-secondary[_ngcontent-%COMP%]{background:#6c757d;color:#fff}.btn-secondary[_ngcontent-%COMP%]:hover{background:#5a6268;transform:translateY(-2px)}.btn-edit[_ngcontent-%COMP%]{background:#28a745;color:#fff}.btn-edit[_ngcontent-%COMP%]:hover{background:#218838;transform:translateY(-2px)}.btn-delete[_ngcontent-%COMP%]{background:#dc3545;color:#fff}.btn-delete[_ngcontent-%COMP%]:hover{background:#c82333;transform:translateY(-2px)}.btn.loading[_ngcontent-%COMP%]{opacity:.7}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:3rem;color:#666}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.1rem;margin-bottom:1rem}.modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000080;display:flex;align-items:center;justify-content:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{background:#fff;border-radius:12px;width:90%;max-width:500px;max-height:90vh;overflow-y:auto;box-shadow:0 10px 30px #0000004d}.modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1.5rem;border-bottom:1px solid #eee}.modal-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;color:#333}.modal-close[_ngcontent-%COMP%]{background:none;border:none;font-size:1.5rem;cursor:pointer;color:#666}.modal-body[_ngcontent-%COMP%]{padding:1.5rem}.form-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:1rem}.form-group[_ngcontent-%COMP%]{margin-bottom:1rem}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;font-weight:500;color:#333}.form-control[_ngcontent-%COMP%]{width:100%;padding:.75rem;border:1px solid #ddd;border-radius:4px;font-size:1rem;transition:border-color .3s}.form-control[_ngcontent-%COMP%]:focus{outline:none;border-color:#667eea;box-shadow:0 0 0 2px #667eea33}.form-control.error[_ngcontent-%COMP%]{border-color:#dc3545}.error-message[_ngcontent-%COMP%]{color:#dc3545;font-size:.875rem;margin-top:.25rem}.modal-actions[_ngcontent-%COMP%]{display:flex;gap:1rem;justify-content:flex-end;margin-top:1.5rem}.message-overlay[_ngcontent-%COMP%]{position:fixed;top:20px;right:20px;z-index:2000}.message-content[_ngcontent-%COMP%]{padding:1rem 1.5rem;border-radius:8px;color:#fff;font-weight:500;box-shadow:0 4px 12px #00000026}.message-content.success[_ngcontent-%COMP%]{background:#28a745}.message-content.error[_ngcontent-%COMP%]{background:#dc3545}@media (max-width: 768px){.user-list-page[_ngcontent-%COMP%]{padding:1rem}.header[_ngcontent-%COMP%]{flex-direction:column;gap:1rem;text-align:center}.user-item[_ngcontent-%COMP%]{flex-direction:column;text-align:center;gap:1rem}.user-number[_ngcontent-%COMP%]{margin-right:0}.user-actions[_ngcontent-%COMP%]{justify-content:center}.form-row[_ngcontent-%COMP%]{grid-template-columns:1fr}.modal-actions[_ngcontent-%COMP%]{flex-direction:column}}"]})}}return i})()}}]);