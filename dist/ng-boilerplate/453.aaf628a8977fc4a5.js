"use strict";(self.webpackChunkng_boilerplate=self.webpackChunkng_boilerplate||[]).push([[453],{5453:(E,g,s)=>{s.r(g),s.d(g,{LoginComponent:()=>F});var t=s(4341),m=s(177),o=s(4438),d=s(8010),c=s(2365);function u(e,l){1&e&&(o.j41(0,"span"),o.EFF(1,"Email is required"),o.k0s())}function p(e,l){1&e&&(o.j41(0,"span"),o.EFF(1,"Please enter a valid email"),o.k0s())}function f(e,l){if(1&e&&(o.j41(0,"div",13),o.DNE(1,u,2,0,"span",14)(2,p,2,0,"span",14),o.k0s()),2&e){let i,r;const n=o.XpG();o.R7$(),o.Y8G("ngIf",null==(i=n.loginForm.get("email"))||null==i.errors?null:i.errors.required),o.R7$(),o.Y8G("ngIf",null==(r=n.loginForm.get("email"))||null==r.errors?null:r.errors.email)}}function _(e,l){1&e&&(o.j41(0,"span"),o.EFF(1,"Password is required"),o.k0s())}function h(e,l){if(1&e&&(o.j41(0,"div",13),o.DNE(1,_,2,0,"span",14),o.k0s()),2&e){let i;const r=o.XpG();o.R7$(),o.Y8G("ngIf",null==(i=r.loginForm.get("password"))||null==i.errors?null:i.errors.required)}}function b(e,l){if(1&e&&(o.j41(0,"div",15),o.EFF(1),o.k0s()),2&e){const i=o.XpG();o.R7$(),o.SpI(" ",i.successMessage," ")}}function v(e,l){if(1&e&&(o.j41(0,"div",13),o.EFF(1),o.k0s()),2&e){const i=o.XpG();o.R7$(),o.SpI(" ",i.loginError," ")}}let F=(()=>{class e{constructor(i,r,n){this.fb=i,this.authService=r,this.router=n,this.isSubmitting=!1,this.loginSuccess=!1,this.loginError="",this.successMessage="",this.loginForm=this.fb.group({email:["",[t.k0.required,t.k0.email]],password:["",t.k0.required]})}isFieldInvalid(i){const r=this.loginForm.get(i);return!(!r||!r.invalid||!r.dirty&&!r.touched)}onSubmit(){if(this.loginForm.valid){this.isSubmitting=!0,this.loginError="",this.loginSuccess=!1;const i=this.loginForm.get("email")?.value,r=this.loginForm.get("password")?.value;console.log("Attempting to login:",{email:i,password:r}),this.authService.login(i,r).then(n=>{console.log("Login result:",n),n.success?(this.loginSuccess=!0,this.successMessage=n.message,this.loginError="",setTimeout(()=>{this.router.navigate(["/auth/users"])},1500)):(this.loginError=n.message,this.loginSuccess=!1),this.isSubmitting=!1})}else Object.keys(this.loginForm.controls).forEach(i=>{this.loginForm.get(i)?.markAsTouched()})}static{this.\u0275fac=function(r){return new(r||e)(o.rXU(t.ok),o.rXU(d.u),o.rXU(c.Ix))}}static{this.\u0275cmp=o.VBU({type:e,selectors:[["app-login"]],standalone:!0,features:[o.aNF],decls:25,vars:16,consts:[[1,"login-container"],[1,"login-card"],[3,"ngSubmit","formGroup"],[1,"form-group"],["for","email"],["id","email","type","email","formControlName","email","placeholder","Enter your email",1,"form-control"],["class","error-message",4,"ngIf"],["for","password"],["id","password","type","password","formControlName","password","placeholder","Enter your password",1,"form-control"],["type","submit",1,"btn","btn-primary",3,"disabled"],["class","success-message",4,"ngIf"],[1,"debug-info"],[1,"help-text"],[1,"error-message"],[4,"ngIf"],[1,"success-message"]],template:function(r,n){if(1&r&&(o.j41(0,"div",0)(1,"div",1)(2,"h2"),o.EFF(3,"Login"),o.k0s(),o.j41(4,"form",2),o.bIt("ngSubmit",function(){return n.onSubmit()}),o.j41(5,"div",3)(6,"label",4),o.EFF(7,"Email"),o.k0s(),o.nrm(8,"input",5),o.DNE(9,f,3,2,"div",6),o.k0s(),o.j41(10,"div",3)(11,"label",7),o.EFF(12,"Password"),o.k0s(),o.nrm(13,"input",8),o.DNE(14,h,2,1,"div",6),o.k0s(),o.j41(15,"button",9),o.EFF(16),o.k0s(),o.DNE(17,b,2,1,"div",10)(18,v,2,1,"div",6),o.j41(19,"div",11)(20,"small"),o.EFF(21),o.k0s()(),o.j41(22,"div",12)(23,"small"),o.EFF(24,"\u{1f4a1} Use registered credentials or try: test@example.com / password123"),o.k0s()()()()()),2&r){let a;o.R7$(4),o.Y8G("formGroup",n.loginForm),o.R7$(4),o.AVh("error",n.isFieldInvalid("email")),o.R7$(),o.Y8G("ngIf",n.isFieldInvalid("email")),o.R7$(4),o.AVh("error",n.isFieldInvalid("password")),o.R7$(),o.Y8G("ngIf",n.isFieldInvalid("password")),o.R7$(),o.AVh("loading",n.isSubmitting),o.Y8G("disabled",n.loginForm.invalid||n.isSubmitting),o.R7$(),o.SpI(" ",n.isSubmitting?"Logging in...":"Login"," "),o.R7$(),o.Y8G("ngIf",n.loginSuccess),o.R7$(),o.Y8G("ngIf",n.loginError),o.R7$(3),o.E5c("Form Valid: ",n.loginForm.valid," | Email: ",null==(a=n.loginForm.get("email"))?null:a.value," | Password: ",null==(a=n.loginForm.get("password"))?null:a.value,"")}},dependencies:[t.X1,t.qT,t.me,t.BC,t.cb,t.j4,t.JD,m.MD,m.bT],styles:[".login-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:60vh}.login-card[_ngcontent-%COMP%]{background:#fff;padding:2rem;border-radius:8px;box-shadow:0 2px 10px #0000001a;width:100%;max-width:400px}.form-group[_ngcontent-%COMP%]{margin-bottom:1rem}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;font-weight:500}.form-control[_ngcontent-%COMP%]{width:100%;padding:.75rem;border:1px solid #ddd;border-radius:4px;font-size:1rem;transition:border-color .3s}.form-control[_ngcontent-%COMP%]:focus{outline:none;border-color:#3f51b5;box-shadow:0 0 0 2px #3f51b533}.form-control.error[_ngcontent-%COMP%]{border-color:#f44336}.error-message[_ngcontent-%COMP%]{color:#f44336;font-size:.875rem;margin-top:.25rem}.success-message[_ngcontent-%COMP%]{color:#4caf50;font-size:.875rem;margin-top:1rem;text-align:center;padding:.5rem;background-color:#e8f5e8;border-radius:4px}.debug-info[_ngcontent-%COMP%]{margin-top:1rem;padding:.5rem;background-color:#f5f5f5;border-radius:4px;font-size:.75rem;color:#666}.help-text[_ngcontent-%COMP%]{margin-top:1rem;text-align:center;color:#666;font-size:.875rem}.btn[_ngcontent-%COMP%]{width:100%;padding:.75rem;border:none;border-radius:4px;font-size:1rem;cursor:pointer;margin-top:1rem;transition:all .3s}.btn-primary[_ngcontent-%COMP%]{background-color:#3f51b5;color:#fff}.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#303f9f}.btn-primary[_ngcontent-%COMP%]:disabled{background-color:#ccc;cursor:not-allowed}.btn.loading[_ngcontent-%COMP%]{opacity:.7}"]})}}return e})()}}]);